version: '3.6'

services:
	db:
		image: mysql
		container_name: mysql
		restart: always      # 컨테이너가 실행 중 중단됐을 때 컨테이너를 알아서 재시작
		ports:
			- '3306:3306'
		env_file: .env
		environment:
			TZ: Asia/Seoul
		command:
			- --character-set-client-handshake=FALSE      # 클라이언트의 문자셋을 무시하고 서버쪽 문자셋을 이용
			- --character-set-server=utf8mb4
			- --collation-server=utf8mb4_unicode_ci
		volumes:
			- ./initdb.d:/docker-entrypoint-initdb.d
			- /var/lib/mysql:/var/lib/mysql